<!-- src/app/components/almacenes/almacen-form/almacen-form.component.html -->

<div class="form-container">
  
  <!-- Header -->
  <div class="form-header">
    <div class="header-content">
      <h1>
        <span class="header-icon">{{ modoEdicion ? '‚úèÔ∏è' : '‚ûï' }}</span>
        {{ modoEdicion ? 'Editar Almac√©n' : 'Nuevo Almac√©n' }}
      </h1>
      <p class="subtitle">{{ modoEdicion ? 'Actualiza la informaci√≥n del almac√©n' : 'Completa los datos del nuevo almac√©n' }}</p>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="cargando" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando almac√©n...</p>
  </div>

  <!-- Formulario -->
  <div *ngIf="!cargando" class="form-content">
    
    <!-- Error Alert -->
    <div *ngIf="errorMensaje" class="error-alert">
      <span class="error-icon">‚ö†Ô∏è</span>
      <span class="error-text">{{ errorMensaje }}</span>
      <button class="error-close" (click)="limpiarError()">‚úï</button>
    </div>

    <form class="almacen-form">
      
      <!-- C√≥digo -->
      <div class="form-group">
        <label for="codigo" class="form-label">
          C√≥digo <span class="required">*</span>
        </label>
        <input
          type="text"
          id="codigo"
          class="form-input"
          placeholder="Ej: ALM-001"
          [(ngModel)]="codigo"
          name="codigo"
          [disabled]="modoEdicion"
          maxlength="50"
          required
        >
        <small class="form-help">
          {{ modoEdicion ? 'El c√≥digo no se puede modificar' : 'C√≥digo √∫nico para identificar el almac√©n' }}
        </small>
      </div>

      <!-- Nombre -->
      <div class="form-group">
        <label for="nombre" class="form-label">
          Nombre <span class="required">*</span>
        </label>
        <input
          type="text"
          id="nombre"
          class="form-input"
          placeholder="Ej: Almac√©n Principal"
          [(ngModel)]="nombre"
          name="nombre"
          maxlength="100"
          required
        >
        <small class="form-help">Nombre descriptivo del almac√©n</small>
      </div>

      <!-- Direcci√≥n -->
      <div class="form-group">
        <label for="direccion" class="form-label">
          Direcci√≥n
        </label>
        <textarea
          id="direccion"
          class="form-input form-textarea"
          placeholder="Ej: Av. Los Pinos 123, Lima"
          [(ngModel)]="direccion"
          name="direccion"
          rows="3"
          maxlength="255"
        ></textarea>
        <small class="form-help">Direcci√≥n f√≠sica del almac√©n (opcional)</small>
      </div>

      <!-- Estado (solo en modo edici√≥n) -->
      <div class="form-group" *ngIf="modoEdicion">
        <div class="checkbox-container">
          <label class="checkbox-label">
            <input
              type="checkbox"
              [(ngModel)]="activo"
              name="activo"
              class="form-checkbox"
            >
            <span class="checkbox-text">Almac√©n activo</span>
          </label>
        </div>
        <small class="form-help">Los almacenes inactivos no podr√°n ser usados en movimientos</small>
      </div>

    </form>

    <!-- Botones de acci√≥n -->
    <div class="form-actions">
      <button 
        class="btn btn-secondary" 
        (click)="cancelar()"
        [disabled]="guardando"
      >
        <span class="btn-icon">‚úï</span>
        Cancelar
      </button>
      <button 
        class="btn btn-primary" 
        (click)="guardar()"
        [disabled]="guardando"
      >
        <span *ngIf="guardando" class="btn-spinner"></span>
        <span *ngIf="!guardando" class="btn-icon">{{ modoEdicion ? 'üíæ' : '‚ûï' }}</span>
        <span *ngIf="!guardando">{{ modoEdicion ? 'Actualizar' : 'Crear Almac√©n' }}</span>
      </button>
    </div>

  </div>

</div>