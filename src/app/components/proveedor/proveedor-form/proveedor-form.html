<div class="modal-header">
  <div class="header-text">
    <h2>{{ titulo }}</h2>
    <p>Complete la informaci贸n del proveedor {{ proveedor.pais === 'CHINA' ? 'Internacional' : 'Nacional' }}</p>
  </div>
  <button class="btn-close-x" (click)="cancelar()" title="Cerrar">
    <mat-icon>close</mat-icon>
  </button>
</div>

<div class="modal-body">
  <form (ngSubmit)="guardar()" #f="ngForm">
    
    <div class="form-section">
      <h4 class="section-divider">
        <mat-icon class="tiny-icon">public</mat-icon> Origen e Identificaci贸n
      </h4>
      
      <div class="form-row">
        <div class="form-group col-4">
          <label class="section-title">Pa铆s de Origen</label>
          <div class="input-box">
            <mat-icon class="input-icon">flag</mat-icon>
            <select class="form-control-smaf no-border" name="pais" [(ngModel)]="proveedor.pais">
              <option value="PER">叼 PER</option>
              <option value="CHINA"> CHINA</option>
            </select>
          </div>
        </div>

        <div class="form-group col-8">
          <label class="section-title">
            {{ proveedor.pais === 'PER' ? 'RUC (11 D铆gitos)' : 'USCC (18 Caracteres)' }} <span style="color:red">*</span>
          </label>
          <div class="input-box">
            <mat-icon class="input-icon">badge</mat-icon>
            <input type="text" class="form-control-smaf no-border" 
                   name="ruc" [(ngModel)]="proveedor.ruc" 
                   [placeholder]="proveedor.pais === 'PER' ? 'Ej: 20601234567' : 'Ej: 913101...'"
                   [maxlength]="proveedor.pais === 'PER' ? 11 : 18" required>
          </div>
        </div>
      </div>

      <div class="form-row mt-3">
        <div class="form-group col-12">
          <label class="section-title">Raz贸n Social / Nombre <span style="color:red">*</span></label>
          <div class="input-box">
            <mat-icon class="input-icon">business</mat-icon>
            <input type="text" class="form-control-smaf no-border" 
                   name="nombre" [(ngModel)]="proveedor.nombre" 
                   placeholder="Nombre de la empresa" required>
          </div>
        </div>
      </div>

      <div class="form-row mt-3">
        <div class="form-group col-12">
          <label class="section-title">Direcci贸n Fiscal</label>
          <div class="input-box">
            <mat-icon class="input-icon">place</mat-icon>
            <input type="text" class="form-control-smaf no-border" 
                   name="direccion" [(ngModel)]="proveedor.direccion" 
                   placeholder="Direcci贸n completa">
          </div>
        </div>
      </div>
    </div>

    <div class="form-section mt-4">
      <h4 class="section-divider">
        <mat-icon class="tiny-icon">contact_phone</mat-icon> Contacto y Estado
      </h4>
      
      <div class="form-row">
        <div class="form-group col-6">
          <label class="section-title">Persona de Contacto</label>
          <div class="input-box">
            <mat-icon class="input-icon">person</mat-icon>
            <input type="text" class="form-control-smaf no-border" 
                   name="contacto" [(ngModel)]="proveedor.contacto" 
                   placeholder="Ej: Juan P茅rez">
          </div>
        </div>
        <div class="form-group col-6">
          <label class="section-title">Tel茅fono / Celular</label>
          <div class="input-box">
            <mat-icon class="input-icon">phone</mat-icon>
            <input type="text" class="form-control-smaf no-border" 
                   name="telefono" [(ngModel)]="proveedor.telefono" 
                   placeholder="999 000 000">
          </div>
        </div>
      </div>

      <div class="form-row mt-3">
        <div class="form-group col-8">
          <label class="section-title">Correo Electr贸nico</label>
          <div class="input-box">
            <mat-icon class="input-icon">email</mat-icon>
            <input type="email" class="form-control-smaf no-border" 
                   name="email" [(ngModel)]="proveedor.email" 
                   placeholder="ventas@empresa.com">
          </div>
        </div>

        <div class="form-group col-4">
          <label class="section-title">Estado</label>
          <div class="input-box">
             <mat-icon class="input-icon" [style.color]="proveedor.activo ? '#22c55e' : '#ef4444'">circle</mat-icon>
             <select class="form-control-smaf no-border" name="activo" [(ngModel)]="proveedor.activo">
                <option [ngValue]="true">Activo</option>
                <option [ngValue]="false">Inactivo</option>
             </select>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-footer">
      <button type="button" class="btn-borrador" (click)="cancelar()">
        Cancelar
      </button>
      <button type="submit" class="btn-completar">
        <mat-icon>save</mat-icon> {{ btnTexto }}
      </button>
    </div>

  </form>
</div>